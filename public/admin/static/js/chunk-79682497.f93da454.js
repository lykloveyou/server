(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79682497"],{"987b":function(t,e,a){},b0c0:function(t,e,a){var o=a("83ab"),i=a("9bf2").f,n=Function.prototype,l=n.toString,s=/^\s*function ([^ (]*)/,r="name";o&&!(r in n)&&i(n,r,{configurable:!0,get:function(){try{return l.call(this).match(s)[1]}catch(t){return""}}})},b64b:function(t,e,a){var o=a("23e7"),i=a("7b0b"),n=a("df75"),l=a("d039"),s=l((function(){n(1)}));o({target:"Object",stat:!0,forced:s},{keys:function(t){return n(i(t))}})},d7e9:function(t,e,a){"use strict";a("987b")},dee4:function(t,e,a){"use strict";var o={baseUrl:"http://119.29.32.199:3000/api/",type:{get:"type/get",add:"type/add",remove:"type/remove",update:"type/update",signle:"type/signle"},tag:{get:"tag/get",add:"tag/add",remove:"tag/remove",update:"tag/update",signle:"tag/signle"},user:{login:"user/login"},comment:{get:"comment/get",add:"comment/add"},blog:{get:"blog/get",add:"blog/add",remove:"blog/remove",update:"blog/update",signle:"blog/signle",select:"blog/select",publish:"blog/publish",tagId:"blog/tag_blog_one"}};e["a"]=o},f37e:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blogSub-box"},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("div",{staticClass:"find-header"},[a("el-select",{staticClass:"form-tag-top",attrs:{placeholder:"请选择"},model:{value:t.form.flag,callback:function(e){t.$set(t.form,"flag",e)},expression:"form.flag"}},t._l(t.options1,(function(t){return a("el-option",{key:t.index,attrs:{label:t.label,value:t.value}})})),1),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("div",{staticClass:"text-area"},[a("div",{attrs:{id:"test-editor"}},[a("mavon-editor",{ref:"md",staticStyle:{"min-height":"600px"},on:{imgAdd:t.$imgAdd,change:t.change},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)]),a("el-lable",[t._v(" 描述： "),a("el-input",{attrs:{type:"textarea",resize:"none"},model:{value:t.form.descti,callback:function(e){t.$set(t.form,"descti",e)},expression:"form.descti"}})],1),a("div",{staticClass:"tag-area"},[a("div",{staticClass:"tag-area-top"},[a("div",{staticClass:"sort-box"},[a("label",[t._v("分类")]),a("el-select",{staticClass:"form-tag-top",attrs:{placeholder:"请选择"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.options2,(function(t){return a("el-option",{key:t.index,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"tag2-box"},[a("label",[t._v("标签")]),a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}},t._l(t.options3,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"rem-area"},[a("el-checkbox",{model:{value:t.recommend,callback:function(e){t.recommend=e},expression:"recommend"}},[t._v("推荐")]),a("el-checkbox",{model:{value:t.shareStatement,callback:function(e){t.shareStatement=e},expression:"shareStatement"}},[t._v("转载声明")]),a("el-checkbox",{model:{value:t.appreciation,callback:function(e){t.appreciation=e},expression:"appreciation"}},[t._v("赞赏")]),a("el-checkbox",{model:{value:t.commentabled,callback:function(e){t.commentabled=e},expression:"commentabled"}},[t._v("评论")])],1)]),a("div",{staticClass:"img-area"},[a("label",{staticClass:"label-img"},[t._v(" 首图")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.first_pic,callback:function(e){t.$set(t.form,"first_pic",e)},expression:"form.first_pic"}})],1)]),a("div",{staticClass:"btn-area"},[a("el-button",{attrs:{type:"info"},on:{click:t.back}},[t._v(" 返回 ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v(" 保存 ")])],1)],1)],1)},i=[],n=(a("b0c0"),a("b64b"),a("dee4")),l={data:function(){return{content:"",html:"",form:{title:"",content:"",flag:"",type:"",first_pic:"",descti:"",tag:[]},options1:[{value:"原创",label:"原创",index:1},{value:"转载",label:"转载",index:2},{value:"广告",label:"广告",index:3}],recommend:!1,shareStatement:!1,appreciation:!1,commentabled:!1,options2:[],options3:[]}},methods:{$imgAdd:function(t,e){var a=this,o=new FormData;this.$upload.post("/上传接口地址",o).then((function(e){console.log(e.data),a.$refs.md.$img2Url(t,e.data)})).catch((function(t){console.log(t)}))},change:function(t,e){this.form.html=e},submit:function(){1==this.recommend?this.form.recommend=1:this.form.recommend=2,1==this.shareStatement?this.form.shareStatement=1:this.form.shareStatement=2,1==this.appreciation?this.form.appreciation=1:this.form.appreciation=2,1==this.commentabled?this.form.commentabled=1:this.form.commentabled=2,this.form.published=1,this.addBlog()},back:function(){this.$router.push("/bloglist")},getType:function(){var t=this;this.$axios.post(n["a"].type.get,{all:1}).then((function(e){for(var a=0;a<e.length;a++){var o={};o.value=e[a].id,o.index=a,o.label=e[a].name,t.options2.push(o)}}))},getTag:function(){var t=this;this.$axios.post(n["a"].tag.get,{all:1}).then((function(e){for(var a=0;a<e.length;a++){var o={};o.value=e[a].id,o.index=a,o.label=e[a].name,t.options3.push(o)}}))},addBlog:function(){var t=this;this.changeFlag?this.$axios.post(n["a"].blog.update,this.form).then((function(e){200==e.code&&(alert("修改成功"),t.$router.push("/bloglist"))})):this.$axios.post(n["a"].blog.add,this.form).then((function(e){200==e.code&&(alert("添加成功"),t.$router.push("/bloglist"))}))},getSingle:function(){this.$axios.post(n["a"].blog.signle,{id:6}).then((function(t){console.log(t)}))},formData:function(t){return 1==t}},created:function(){var t=this;this.getType(),this.getTag();var e=Object.keys(this.$route.query);if(0!=e.length){var a=this.$route.query.row;this.changeFlag=this.$route.query.changeFlag,this.form.title=a.title,this.form.flag=a.flag,this.form.content=a.content,this.form.type=a.type,this.form.first_pic=a.first_pic,this.form.descti=a.descti,this.recommend=this.formData(a.recommend),this.commentabled=this.formData(a.commentabled),this.shareStatement=this.formData(a.shareStatement),this.appreciation=this.formData(a.appreciation),this.form.id=a.id,this.$axios.post(n["a"].blog.tagId,{blog_id:this.form.id}).then((function(e){t.form.tag=e.data}))}}},s=l,r=(a("d7e9"),a("2877")),c=Object(r["a"])(s,o,i,!1,null,"afea18a4",null);e["default"]=c.exports}}]);